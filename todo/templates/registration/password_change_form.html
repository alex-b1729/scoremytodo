{% extends "center_card.html" %}

{% block title %}Change your password{% endblock %}

{% block card %}
<div class="card-body text-center">
  <form method="post">
    <div>{{ form.old_password.label }}</div>
    <p>{{ form.old_password }}</p>
    {% if form.old_password.errors %}
    <ul>
      {% for e in form.old_password.errors %}
      <li class="text-danger">{{ e }}</li>
      {% endfor %}
    </ul>
    {% endif %}

    <div>{{ form.new_password1.label }}</div>
    <p>{{ form.new_password1 }}</p>
    {% if form.new_password1.errors %}
    <ul>
      {% for e in form.new_password1.errors %}
      <li class="text-danger">{{ e }}</li>
      {% endfor %}
    </ul>
    {% endif %}

    <div>{{ form.new_password2.label }}</div>
    <p>{{ form.new_password2 }}</p>
    {% if form.new_password2.errors %}
    <ul>
      {% for e in form.new_password2.errors %}
      <li class="text-danger">{{ e }}</li>
      {% endfor %}
    </ul>
    {% endif %}

    {% csrf_token %}
    <div class="card-text">
      <input class="btn btn-primary" type="submit" value="Change my password" />
    </div>
  </form>
</div>

<div class="card-footer d-flex flex-column">
  {% if form.non_field_errors %}
  <ul>
    {% for e in form.non_field_errors %}
    <li class="text-danger">{{ e }}</li>
    {% endfor %}
  </ul>
  {% endif %}

  {{ form.new_password1.help_text }}
</div>
{% endblock %}

{% block footer %}{% endblock %}